## Package file for Home Assistant, used for environment
## Type: Home Assistant yaml file
## Date added: 2019-11-10
## Author: R.Bisschops

###############################################################################
##  Homeassistant settings
###############################################################################
homeassistant:
  customize:
    ##-----------------------------------------------------------------------------------------------
    ## Customizations - Active
    ##-----------------------------------------------------------------------------------------------
    ## outdoor environment
    sun.sun:
      friendly_name: Dag/Nacht
    ## Office environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_office_temperature:
      friendly_name: Temperatuur Kantoor
    sensor.environment_office_humidity:
      friendly_name: Rel. Vochtigheid Kantoor
    sensor.environment_office_pressure:
      friendly_name: Luchtdruk Kantoor
    sensor.environment_office_linkquality:
      friendly_name:  Kantoor (link quality)  
    ## Bathroom environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_bathroom_temperature:
      friendly_name: Temperatuur Badkamer
    sensor.environment_bathroom_humidity:
      friendly_name: Rel. Vochtigheid Badkamer
    sensor.environment_bathroom_pressure:
      friendly_name: Luchtdruk Badkamer
    sensor.environment_bathroom_linkquality:
      friendly_name:  Badkamer (link quality)
    ## Master bedroom environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_bedroom_temperature:
      friendly_name: Temperatuur Slaapkamer
    sensor.environment_bedroom_humidity:
      friendly_name: Rel. Vochtigheid Slaapkamer
    sensor.environment_bedroom_pressure:
      friendly_name: Luchtdruk Slaapkamer
    sensor.environment_bedroom_linkquality:
      friendly_name:  Slaapkamer (link quality)
    ## 2nd floor bedroom environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_kim_temperature:
      friendly_name: Temperatuur kamer Kim
    sensor.environment_kim_humidity:
      friendly_name: Rel. Vochtigheid kamer Kim
    sensor.environment_kim_pressure:
      friendly_name: Luchtdruk kamer Kim
    sensor.environment_kim_linkquality:
      friendly_name:  kamer Kim (link quality)
    ## Livingroom environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_livingroom_temperature:
      friendly_name: Temperatuur Woonkamer
    sensor.environment_livingroom_humidity:
      friendly_name: Rel. Vochtigheid Woonkamer
    sensor.environment_livingroom_pressure:
      friendly_name: Luchtdruk Woonkamer 
    sensor.environment_livingroom_linkquality:
      friendly_name:  Woonkamer (link quality) 
    ## Restroom environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_toilet_temperature:
      friendly_name: Temperatuur Toilet
    sensor.environment_toilet_humidity:
      friendly_name: Rel. Vochtigheid Toilet
    sensor.environment_toilet_pressure:
      friendly_name: Luchtdruk Toilet
    sensor.environment_toilet_linkquality:
      friendly_name:  Toilet (link quality)
    ## Storage environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_storage_temperature:
      friendly_name: Temperatuur Berging
    sensor.environment_storage_humidity:
      friendly_name: Rel. Vochtigheid Berging
    sensor.environment_storage_pressure:
      friendly_name: Luchtdruk Berging  
    sensor.environment_storage_linkquality:
      friendly_name:  Berging (link quality)  
    ## Heatingroom environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_heating_room_temperature:
      friendly_name: Temperatuur Ketel ruimte
    sensor.environment_heating_room_humidity:
      friendly_name: Rel. Vochtigheid Ketel ruimte 
    sensor.environment_heating_room_pressure:
      friendly_name: Luchtdruk Ketel ruimte
    sensor.environment_heating_room_linkquality:
      friendly_name:  Ketel ruimte (link quality)
    ## 2nd floor hallway environment sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.environment_hallway_floor2_temperature:
      friendly_name: Temperatuur Overloop 2e verdieping
    sensor.environment_hallway_floor2_humidity:
      friendly_name: Rel. Vochtigheid Overloop 2e verdieping 
    sensor.environment_hallway_floor2_pressure:
      friendly_name: Luchtdruk Overloop 2e verdieping
    sensor.environment_hallway_floor2_linkquality:
      friendly_name:  Overloop 2e verdieping (link quality)
    ## Office light level sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.light_level_office_level:
      friendly_name: Licht level kantoor
    sensor.light_level_office_linkquality:
      friendly_name:  Licht level kantoor (link quality)
    ## Office light level sensor
    ## Source: Xiaomi Aqara ZigBee
    sensor.light_level_garden_level:
      friendly_name: Licht level tuin
    sensor.light_level_garden_linkquality:
      friendly_name:  Licht level tuin (link quality)
    ## Test environment sensor
    ## Source: Dummy 
    sensor.environment_test_temperature:
      friendly_name: Temperatuur Test
    sensor.environment_test_humidity:
      friendly_name: Rel. Vochtigheid Test
    sensor.environment_test_pressure:
      friendly_name: Test (link quality)
    ##-----------------------------------------------------------------------------------------------
    ## Customizations - Check
    ##-----------------------------------------------------------------------------------------------
    ##-----------------------------------------------------------------------------------------------
    ## Customizations - Obsolete
    ##-----------------------------------------------------------------------------------------------

###############################################################################
#  Entities
###############################################################################

input_select:
  ##-----------------------------------------------------------------------------------------------
  ## input_select - Active
  ##-----------------------------------------------------------------------------------------------
  environment_livingroom_humidity_state:
    name: Luchtvochtigheid Woonkamer status
    options: 
      - Te laag
      - Laag
      - Normaal
      - Hoog
      - Te hoog
  environment_test_humidity_state:
    name: Luchtvochtigheid Test status
    options: 
      - Te laag
      - Laag
      - Normaal
      - Hoog
      - Te hoog
  ##-----------------------------------------------------------------------------------------------
  ## input_select - Check
  ##-----------------------------------------------------------------------------------------------
  ##-----------------------------------------------------------------------------------------------
  ## input_select - Obsolete
  ##-----------------------------------------------------------------------------------------------

sensor:
##-----------------------------------------------------------------------------------------------
## sensors - Active
##-----------------------------------------------------------------------------------------------
  ## Season sensor (astronomical)
  ## Source: Home assistant
  - platform: season
    type: astronomical

  - platform: template
    sensors:
      ## Sunset
      ## Source: template sensor
      time_sunset:
        value_template: "{% set timestamp = as_timestamp(state_attr('sun.sun','next_setting')) | timestamp_custom('%H:%M') %} {{ timestamp }}"
        unit_of_measurement: "PM"
      ## Sunrise
      ## Source: template sensor
      time_sunrise:
        value_template: "{% set timestamp = as_timestamp(state_attr('sun.sun','next_rising')) | timestamp_custom('%H:%M') %} {{ timestamp }}"
        unit_of_measurement: "AM"

  ## Inhouse environment sensors
  ## Office environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_office_temperature
    state_topic: "zigbee2mqtt/aqara_office_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_office_humidity
    state_topic: "zigbee2mqtt/aqara_office_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_office_pressure
    state_topic: "zigbee2mqtt/aqara_office_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_office_linkquality
    state_topic: "zigbee2mqtt/aqara_office_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"
  ## Bathroom environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_bathroom_temperature
    state_topic: "zigbee2mqtt/aqara_bathroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_bathroom_humidity
    state_topic: "zigbee2mqtt/aqara_bathroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_bathroom_pressure
    state_topic: "zigbee2mqtt/aqara_bathroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_bathroom_linkquality
    state_topic: "zigbee2mqtt/aqara_bathroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"
  ## Master bedroom environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_bedroom_temperature
    state_topic: "zigbee2mqtt/aqara_bedroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_bedroom_humidity
    state_topic: "zigbee2mqtt/aqara_bedroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_bedroom_pressure
    state_topic: "zigbee2mqtt/aqara_bedroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_bedroom_linkquality
    state_topic: "zigbee2mqtt/aqara_bedroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## 2nd floor bedroom environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_kim_temperature
    state_topic: "zigbee2mqtt/aqara_kim_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_kim_humidity
    state_topic: "zigbee2mqtt/aqara_kim_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_kim_pressure
    state_topic: "zigbee2mqtt/aqara_kim_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_kim_linkquality
    state_topic: "zigbee2mqtt/aqara_kim_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## Livingroom environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_livingroom_temperature
    state_topic: "zigbee2mqtt/aqara_livingroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_livingroom_humidity
    state_topic: "zigbee2mqtt/aqara_livingroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_livingroom_pressure
    state_topic: "zigbee2mqtt/aqara_livingroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_livingroom_linkquality
    state_topic: "zigbee2mqtt/aqara_livingroom_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## Restroom environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_toilet_temperature
    state_topic: "zigbee2mqtt/aqara_toilet_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_toilet_humidity
    state_topic: "zigbee2mqtt/aqara_toilet_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_toilet_pressure
    state_topic: "zigbee2mqtt/aqara_toilet_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_toilet_linkquality
    state_topic: "zigbee2mqtt/aqara_toilet_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## Storage environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_storage_temperature
    state_topic: "zigbee2mqtt/aqara_storage_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_storage_humidity
    state_topic: "zigbee2mqtt/aqara_storage_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_storage_pressure
    state_topic: "zigbee2mqtt/aqara_storage_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_storage_linkquality
    state_topic: "zigbee2mqtt/aqara_storage_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## Heatingroom environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_heating_room_temperature
    state_topic: "zigbee2mqtt/aqara_heating_room_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_heating_room_humidity
    state_topic: "zigbee2mqtt/aqara_heating_room_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_heating_room_pressure
    state_topic: "zigbee2mqtt/aqara_heating_room_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_heating_room_linkquality
    state_topic: "zigbee2mqtt/aqara_heating_room_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## 2nd floor hallway environment sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: environment_hallway_floor2_temperature
    state_topic: "zigbee2mqtt/aqara_hallway_floor2_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_hallway_floor2_humidity
    state_topic: "zigbee2mqtt/aqara_hallway_floor2_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_hallway_floor2_pressure
    state_topic: "zigbee2mqtt/aqara_hallway_floor2_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"
  - platform: "mqtt"
    name: environment_hallway_floor2_linkquality
    state_topic: "zigbee2mqtt/aqara_hallway_floor2_env"
    availability_topic: "zigbee2mqtt/bridge/state"
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## Test environment sensor
  ## Source: Dummy 
  - platform: "mqtt"
    name: environment_test_temperature
    state_topic: "test/test_sensor_env"
    expire_after: 900
    force_update: true
    unit_of_measurement: "°C"
    device_class: "temperature"
    value_template: "{{ value_json.temperature }}"
  - platform: "mqtt"
    name: environment_test_humidity
    state_topic: "test/test_sensor_env"
    expire_after: 900
    force_update: true
    unit_of_measurement: "%"
    device_class: "humidity"
    value_template: "{{ value_json.humidity }}"
  - platform: "mqtt"
    name: environment_test_pressure
    state_topic: "test/test_sensor_env"
    expire_after: 900
    force_update: true
    unit_of_measurement: "hPa"
    device_class: "pressure"
    value_template: "{{ value_json.pressure }}"

  ## Office light level sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: light_level_office_level
    state_topic: "zigbee2mqtt/light_sensor"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    unit_of_measurement: "-"
    device_class: "illuminance"
    value_template: "{{ value_json.illuminance }}"
  - platform: "mqtt"
    name: light_level_office_level_lux
    state_topic: "zigbee2mqtt/light_sensor"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    unit_of_measurement: "lx"
    device_class: "illuminance"
    value_template: "{{ value_json.illuminance_lux }}"
  - platform: "mqtt"
    name: light_level_office_linkquality
    state_topic: "zigbee2mqtt/light_sensor"
    availability_topic: "zigbee2mqtt/bridge/state"
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ## Garden light level sensor
  ## Source: Xiaomi Aqara ZigBee
  - platform: "mqtt"
    name: light_level_garden_level
    state_topic: "zigbee2mqtt/light_sensor_garden"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    unit_of_measurement: "-"
    device_class: "illuminance"
    value_template: "{{ value_json.illuminance }}"
  - platform: "mqtt"
    name: light_level_garden_level_lux
    state_topic: "zigbee2mqtt/light_sensor_garden"
    availability_topic: "zigbee2mqtt/bridge/state"
    expire_after: 21600
    unit_of_measurement: "lx"
    device_class: "illuminance"
    value_template: "{{ value_json.illuminance_lux }}"
  - platform: "mqtt"
    name: light_level_garden_linkquality
    state_topic: "zigbee2mqtt/light_sensor_garden"
    availability_topic: "zigbee2mqtt/bridge/state"
    unit_of_measurement: "-"
    value_template: "{{ value_json.linkquality }}"

  ##-----------------------------------------------------------------------------------------------
  ## sensors - Check
  ##-----------------------------------------------------------------------------------------------
  ##-----------------------------------------------------------------------------------------------
  ## sensors - Obsolete
  ##-----------------------------------------------------------------------------------------------

###############################################################################
##  Groups
###############################################################################

###############################################################################
##  Automations
###############################################################################

###############################################################################
##  Templates
###############################################################################

###############################################################################
##  Scripts
###############################################################################

###############################################################################
##  Timers
###############################################################################